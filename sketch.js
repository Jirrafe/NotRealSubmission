
var bg ,bgimg, boy, boyimg
var ghostGroup,ghost,ghostimg
var invisibleGround
var candy,candyimg; 
var pumpkinGroup,pumpkin,pumpkinimg1,pumpkinimg2,pumpkinimg3;

var zombie,zombiemg

function preload(){ // load images, animations and sound files
  bgimg = loadImage("Halloween.jpg");

  boyimg = loadAnimation("Boy 1.png","Boy 2.png","Boy 3.png","Boy 4.png","Boy 5.png", "Boy 6.png");

  ghostimg = loadAnimation("ghost1.png","ghost2.png","ghost3.png")

  candyimg = loadImage("candy.png");

  zombieimg = loadAnimation("zombie1.png","zombie2.png","zombie3.png");

 pumpkinimg1 = loadImage("pumpkin1.png");
 pumpkinimg2 = loadImage("pumpkin2.png");
 pumpkinimg3 = loadImage("pumpkin3.png");
 
 
}

function setup(){ 
  createCanvas(1000,600)

  bg = createSprite(400,200,800,400)
  bg.addImage(bgimg)
  bg.scale = 1.38
  bg.velocityX = -5
  bg.x=bg.width/2

  
  //create a trex sprite
 boy = createSprite(200,350,40,80);
 boy.addAnimation("running", boyimg);
 boy.scale = 0.2;

 boy.setCollider("rectangle",0,0,400,boy.height);
  boy.debug = true

  if(ghostGroup.isTouching(boy)){
    ghost.velocityX = 0;

  }
  
  score = 0;

 invisibleGround = createSprite(400,390,800,10);
  invisibleGround.visible = false;

 
  ghostGroup = createGroup();
  pumpkinGroup = createGroup();


  zombie = createSprite(30,300,40,80)
  zombie.addAnimation("chasing",zombieimg);
  zombie.scale = 1.4;
}

function draw(){
  background("black")
  spawnGhost();
  spawnCandy();
  spawnPumpkin();
  drawSprites();
 
  if (bg.x < 315){
    bg.x = bg.width/2;

}
if(keyDown("space")&& boy.y >= 290) {
  boy.velocityY = -12;
  
}

//add gravity
boy.velocityY = boy.velocityY + 0.8
boy.collide(invisibleGround)




}
function spawnGhost(){
  if (frameCount % 300 === 0) {
    ghost = createSprite(790,350,40,10);
    ghost.addAnimation("greenghost",ghostimg);
    ghost.scale = 0.7;
    ghost.velocityX = -3;
    
    ghost.lifetime = 450;
    
  
    }
  }

function spawnCandy(){
  if (frameCount % 180 === 0) {
    candy = createSprite(1100,200,40,10);
    candy.addAnimation("candy",candyimg);
    candy.scale = 0.3;
    candy.velocityX = -3;
   // candy.y = Math.round((random(100,280)))
    candy.lifetime = 450;
  }
}
  function spawnPumpkin(){
    if (frameCount % 200 === 0) {
      pumpkin = createSprite(1100,350,40,10)
      pumpkin.velocityX = -6;
     // pumpkin.x = Math.round(random(100,900))
      var rand = Math.round(random(1,3));
      switch(rand){
         case 1:pumpkin.addImage(pumpkinimg1);
         break;
         case 2:pumpkin.addImage(pumpkinimg2);
         break;
         case 3:pumpkin.addImage(pumpkinimg3);
         break;
         default:break;

      }
      pumpkin.scale = 0.3
    }
  }
 
  
 




































































































































































































































































































































































































































































































































































































































































































































































































































































































